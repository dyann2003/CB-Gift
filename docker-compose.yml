version: '3.8'

services:
  # Dá»‹ch vá»¥ Backend API
  api:
    build:
      context: .
      dockerfile: Dockerfile.backend # ðŸ‘ˆ Chá»‰ tá»›i file backend
    image: cb-gift-api
    container_name: cb-gift-api
    ports:
      - "8080:8080" # Map port 8080 cá»§a host vÃ o port 8080 cá»§a .NET
    restart: unless-stopped
    # environment:
      # - ConnectionStrings__DefaultConnection=... 

  # Dá»‹ch vá»¥ Frontend Client
  client:
    build:
      context: .
      dockerfile: Dockerfile.frontend # ðŸ‘ˆ Chá»‰ tá»›i file frontend
    image: cb-gift-client
    container_name: cb-gift-client
    ports:
      - "3000:80" # Map port 3000 cá»§a host vÃ o port 80 cá»§a Nginx
    restart: unless-stopped
    depends_on:
      - api